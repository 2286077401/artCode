{"version":3,"sources":["webpack:///E:/CZQ/replaceHbFlm/artCode/tuniao-ui/components/tn-fab/tn-fab.vue?ddac","webpack:///E:/CZQ/replaceHbFlm/artCode/tuniao-ui/components/tn-fab/tn-fab.vue?8cee","webpack:///E:/CZQ/replaceHbFlm/artCode/tuniao-ui/components/tn-fab/tn-fab.vue?1279","webpack:///E:/CZQ/replaceHbFlm/artCode/tuniao-ui/components/tn-fab/tn-fab.vue?1fd6","uni-app:///tuniao-ui/components/tn-fab/tn-fab.vue","webpack:///E:/CZQ/replaceHbFlm/artCode/tuniao-ui/components/tn-fab/tn-fab.vue?1566","webpack:///E:/CZQ/replaceHbFlm/artCode/tuniao-ui/components/tn-fab/tn-fab.vue?020b"],"names":["name","mixins","props","btnList","type","default","customBtn","width","height","iconSize","icon","radius","left","right","bottom","animationType","aroundBtnDistance","zIndex","showMask","maskCloseable","data","showFab","visibleSync","timer","fabLeft","fabRight","fabBottom","fabBtnInfo","systemInfo","updateProps","computed","elZIndex","propsData","fabItemStyle","base","style","watch","mounted","beforeDestroy","clearTimeout","methods","handleClick","index","fabClick","clickMask","open","close","change","getFabBtnRectInfo","btnRectInfo","setTimeout","console","translateFabPosition"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AACuM;AACvM,gBAAgB,+MAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1EA;AAAA;AAAA;AAAA;AAA0wB,CAAgB,0xBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;AC4G9xB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBACA;EACAA;EACAC;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC;MACAC;MACAC;QACA;MACA;IACA;IACA;IACAC;MACAF;MACAC;IACA;IACA;IACAE;MACAH;MACAC;IACA;IACA;IACAG;MACAJ;MACAC;IACA;IACA;IACAI;MACAL;MACAC;IACA;IACA;IACAK;MACAN;MACAC;IACA;IACA;IACAM;MACAP;MACAC;IACA;IACA;IACAO;MACAR;MACAC;IACA;IACA;IACAQ;MACAT;MACAC;IACA;IACA;IACAS;MACAV;MACAC;IACA;IACA;IACAU;MACAX;MACAC;IACA;IACA;IACAW;MACAZ;MACAC;IACA;IACAY;MACAb;MACAC;IACA;IACA;IACAa;MACAd;MACAC;IACA;IACA;IACAc;MACAf;MACAC;IACA;EACA;EACAe;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACApB;QACAC;QACAI;QACAC;QACAC;MACA;MACAc;QACArB;QACAC;MACA;MACAqB;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;QACA;UACAhB;QACA;QACA;UACA;QACA;QACA;QACA;UACAiB;QACA;UACAA;QACA;QACAC;QACA;MACA;IACA;EACA;EACAC;IACAJ;MACA;MACA;IACA;EACA;EACAK;IAAA;IACA;MACA;IACA;EACA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;QAAAC;MAAA;IACA;IACA;IACAC;MACA;QACA;MACA;QACA;QACA;UACA;UACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IAEAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QAEA;UACA;UACA;UACAR;QACA;MAQA;QACA;UACA;UACA;UACAA;QACA;MACA;IACA;IAEA;IACA;IACAS;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACApB;gBAAA;gBAAA,OACA;cAAA;gBAAAqB;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBACAC;kBACA;gBACA;gBAAA;cAAA;gBAGAC;gBACA;kBACA5C;kBACAC;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACA4C;MACA;QACA;QACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;QACA;MACA;QACA;MACA;MAEA;QACA;MACA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;;AC9XA;AAAA;AAAA;AAAA;AAAq9C,CAAgB,y6CAAG,EAAC,C;;;;;;;;;;;ACAz+C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"tuniao-ui/components/tn-fab/tn-fab.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./tn-fab.vue?vue&type=template&id=710e8188&scoped=true&\"\nvar renderjs\nimport script from \"./tn-fab.vue?vue&type=script&lang=js&\"\nexport * from \"./tn-fab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tn-fab.vue?vue&type=style&index=0&id=710e8188&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"710e8188\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"tuniao-ui/components/tn-fab/tn-fab.vue\"\nexport default component.exports","export * from \"-!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tn-fab.vue?vue&type=template&id=710e8188&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.$tn.string.getLengthUnitValue(_vm.fabLeft || _vm.left)\n  var g1 = _vm.$tn.string.getLengthUnitValue(_vm.fabRight || _vm.right)\n  var g2 = _vm.$tn.string.getLengthUnitValue(_vm.fabBottom || _vm.bottom)\n  var l0 = _vm.visibleSync\n    ? _vm.__map(_vm.btnList, function (item, index) {\n        var $orig = _vm.__get_orig(item)\n        var s0 = _vm.__get_style([_vm.fabItemStyle(index)])\n        var g3 =\n          _vm.animationType !== \"around\" && (item.imgUrl || item.icon)\n            ? _vm.$tn.string.getLengthUnitValue(item.textSize || 28)\n            : null\n        var g4 = _vm.$tn.string.getLengthUnitValue(_vm.width)\n        var g5 = _vm.$tn.string.getLengthUnitValue(_vm.height)\n        var g6 = _vm.$tn.string.getLengthUnitValue(_vm.height)\n        var g7 = _vm.$tn.string.getLengthUnitValue(_vm.radius)\n        var g8 =\n          !item.imgUrl && !item.icon\n            ? _vm.$tn.string.getLengthUnitValue(item.textSize || 28)\n            : null\n        var g9 = item.icon\n          ? _vm.$tn.string.getLengthUnitValue(\n              item.iconSize || _vm.iconSize || 64\n            )\n          : null\n        var g10 =\n          !item.icon && !item.icon && item.imgUrl\n            ? _vm.$tn.string.getLengthUnitValue(item.imgWidth || 64)\n            : null\n        var g11 =\n          !item.icon && !item.icon && item.imgUrl\n            ? _vm.$tn.string.getLengthUnitValue(item.imgHeight || 64)\n            : null\n        return {\n          $orig: $orig,\n          s0: s0,\n          g3: g3,\n          g4: g4,\n          g5: g5,\n          g6: g6,\n          g7: g7,\n          g8: g8,\n          g9: g9,\n          g10: g10,\n          g11: g11,\n        }\n      })\n    : null\n  var g12 = _vm.$tn.string.getLengthUnitValue(_vm.width)\n  var g13 = _vm.$tn.string.getLengthUnitValue(_vm.height)\n  var g14 = _vm.$tn.string.getLengthUnitValue(_vm.radius)\n  var g15 = _vm.$tn.string.getLengthUnitValue(_vm.iconSize || 64)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        l0: l0,\n        g12: g12,\n        g13: g13,\n        g14: g14,\n        g15: g15,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tn-fab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tn-fab.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"tn-fab-class tn-fab\" @touchmove.stop.prevent>\r\n    <view\r\n      class=\"tn-fab__box\"\r\n      :class=\"{'tn-fab--right': left === 'auto'}\"\r\n      :style=\"{\r\n        left: $tn.string.getLengthUnitValue(fabLeft || left),\r\n        right: $tn.string.getLengthUnitValue(fabRight || right),\r\n        bottom: $tn.string.getLengthUnitValue(fabBottom || bottom),\r\n        zIndex: elZIndex\r\n      }\"\r\n    >\r\n      <view\r\n        v-if=\"visibleSync\"\r\n        class=\"tn-fab__btns\"\r\n        :class=\"[`tn-fab__btns__animation--${animationType}`, \r\n          showFab ? `tn-fab__btns--visible--${animationType}` : ''\r\n        ]\"\r\n      >\r\n        <view\r\n          v-for=\"(item, index) in btnList\"\r\n          :key=\"index\"\r\n          class=\"tn-fab__item\"\r\n          :class=\"[\r\n            `tn-fab__item__animation--${animationType}`, \r\n            {'tn-fab__item--left': right === 'auto'}\r\n          ]\"\r\n          :style=\"[fabItemStyle(index)]\"\r\n          @tap.stop=\"handleClick(index)\"\r\n        >\r\n          <!-- 带图标或者图片时显示的文字信息 -->\r\n          <view\r\n            v-if=\"animationType !== 'around' && (item.imgUrl || item.icon)\"\r\n            :class=\"[left === 'auto' ? 'tn-fab__item__text--right' : 'tn-fab__item__text--left']\"\r\n            :style=\"{\r\n              color: item.textColor || '#FFF',\r\n              fontSize: $tn.string.getLengthUnitValue(item.textSize || 28)\r\n            }\"\r\n          >{{ item.text || '' }}</view>\r\n          \r\n          <!-- 带图片或者图标时的图片、图标信息 -->\r\n          <view\r\n            class=\"tn-fab__item__btn\"\r\n            :class=\"[!item.bgColor ? backgroundColorClass : '']\"\r\n            :style=\"{\r\n              width: $tn.string.getLengthUnitValue(width),\r\n              height: $tn.string.getLengthUnitValue(height),\r\n              lineHeight: $tn.string.getLengthUnitValue(height),\r\n              backgroundColor: item.bgColor || backgroundColorStyle || '#01BEFF',\r\n              borderRadius: $tn.string.getLengthUnitValue(radius)\r\n            }\"\r\n          >\r\n            <!-- 无图片和无图标时只显示文字 -->\r\n            <view\r\n              v-if=\"!item.imgUrl && !item.icon\"\r\n              class=\"tn-fab__item__btn__title\"\r\n              :style=\"{\r\n                color: item.textColor || '#fff',\r\n                fontSize: $tn.string.getLengthUnitValue(item.textSize || 28)\r\n              }\"\r\n            >{{ item.text || '' }}</view>\r\n            <!-- 图标 -->\r\n            <view\r\n              v-if=\"item.icon\"\r\n              class=\"tn-fab__item__btn__icon\"\r\n              :class=\"[`tn-icon-${item.icon}`]\"\r\n              :style=\"{\r\n                color: item.iconColor || '#fff',\r\n                fontSize: $tn.string.getLengthUnitValue(item.iconSize || iconSize || 64)\r\n              }\"\r\n            ></view>\r\n            <!-- 图片 -->\r\n            <image\r\n              v-else-if=\"!item.icon && item.imgUrl\"\r\n              class=\"tn-fab__item__btn__image\"\r\n              :style=\"{\r\n                width: $tn.string.getLengthUnitValue(item.imgWidth || 64),\r\n                height: $tn.string.getLengthUnitValue(item.imgHeight || 64),\r\n              }\"\r\n              :src=\"item.imgUrl\"\r\n            ></image>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      \r\n      <view\r\n        class=\"tn-fab__item__btn tn-fab__item__btn--fab\"\r\n        :class=\"[backgroundColorClass, fontColorClass, {'tn-fab__item__btn--active': showFab}]\"\r\n        :style=\"{\r\n          width: $tn.string.getLengthUnitValue(width),\r\n          height: $tn.string.getLengthUnitValue(height),\r\n          backgroundColor: backgroundColorStyle || !backgroundColorClass ? '#01BEFF' : '',\r\n          color: fontColorStyle || '#fff',\r\n          borderRadius: $tn.string.getLengthUnitValue(radius),\r\n          zIndex: elZIndex - 1\r\n        }\"\r\n        @tap.stop=\"fabClick\"\r\n      >\r\n        <slot>\r\n          <view class=\"tn-fab__item__btn__icon\" :class=\"[`tn-icon-${icon}`]\" :style=\"{fontSize: $tn.string.getLengthUnitValue(iconSize || 64)}\"></view>\r\n        </slot>\r\n      </view>\r\n    </view>\r\n    <view v-if=\"visibleSync && showMask\" class=\"tn-fab__mask\" :class=\"{'tn-fab__mask--visible': showFab}\" :style=\"{zIndex: elZIndex - 3}\" @tap=\"clickMask()\"></view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  import componentsColorMixin from '../../libs/mixin/components_color.js'\r\n  export default {\r\n    name: 'tn-fab',\r\n    mixins: [componentsColorMixin],\r\n    props: {\r\n      // 按钮列表\r\n      // {\r\n      //   // 背景颜色\r\n      //   bgColor: '#fff',\r\n      //   // 图片地址\r\n      //   imgUrl: '',\r\n      //   // 图片宽度\r\n      //   imgWidth: 60,\r\n      //   // 图片高度\r\n      //   imgHeight: 60,\r\n      //   // 图标名称\r\n      //   icon: '',\r\n      //   // 图标尺寸\r\n      //   iconSize: 60,\r\n      //   // 图标颜色\r\n      //   iconColor: '#fff',\r\n      //   // 提示文字\r\n      //   text: '',\r\n      //   // 文字大小\r\n      //   textSize: 30,\r\n      //   // 字体颜色\r\n      //   textColor: '#fff'\r\n      // }\r\n      btnList: {\r\n        type: Array,\r\n        default() {\r\n          return []\r\n        }\r\n      },\r\n      // 自定义悬浮按钮内容\r\n      customBtn: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      // 悬浮按钮的宽度\r\n      width: {\r\n        type: [String, Number],\r\n        default: 88\r\n      },\r\n      // 悬浮按钮的高度\r\n      height: {\r\n        type: [String, Number],\r\n        default: 88\r\n      },\r\n      // 图标大小\r\n      iconSize: {\r\n        type: [String, Number],\r\n        default: 64\r\n      },\r\n      // 图标名称\r\n      icon: {\r\n        type: String,\r\n        default: 'open'\r\n      },\r\n      // 按钮圆角\r\n      radius: {\r\n        type: [String, Number],\r\n        default: '50%'\r\n      },\r\n      // 按钮距离左边的位置\r\n      left: {\r\n        type: [String, Number],\r\n        default: 'auto'\r\n      },\r\n      // 按钮距离右边的位置\r\n      right: {\r\n        type: [String, Number],\r\n        default: 'auto'\r\n      },\r\n      // 按钮距离底部的位置\r\n      bottom: {\r\n        type: [String, Number],\r\n        default: 100\r\n      },\r\n      // 展示动画类型 up 往上展示 around 环绕\r\n      animationType: {\r\n        type: String,\r\n        default: 'up'\r\n      },\r\n      // 当动画为圆环时，每个弹出按钮之间的距离, 单位px\r\n      aroundBtnDistance: {\r\n        type: Number,\r\n        default: 10\r\n      },\r\n      zIndex: {\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      // 显示遮罩\r\n      showMask: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      // 点击遮罩是否可以关闭\r\n      maskCloseable: {\r\n        type: Boolean,\r\n        default: true\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        showFab: false,\r\n        visibleSync: false,\r\n        timer: null,\r\n        fabLeft: 0,\r\n        fabRight: 0,\r\n        fabBottom: 0,\r\n        fabBtnInfo: {\r\n          width: 0,\r\n          height: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0\r\n        },\r\n        systemInfo: {\r\n          width: 0,\r\n          height: 0\r\n        },\r\n        updateProps: false\r\n      }\r\n    },\r\n    computed: {\r\n      elZIndex() {\r\n        return this.zIndex || this.$tn.zIndex.fab\r\n      },\r\n      propsData() {\r\n        return [this.width, this.height, this.left, this.right, this.bottom]\r\n      },\r\n      fabItemStyle() {\r\n        return (index) => {\r\n          let style = {\r\n            zIndex: this.elZIndex - 2\r\n          }\r\n          if (this.animationType === 'up' || !this.showFab) {\r\n            return style\r\n          }\r\n          let base = 1 \r\n          if (this.left === 'auto') {\r\n            base = 1\r\n          } else if (this.right === 'auto') {\r\n            base = -1\r\n          }\r\n          style.transform = `rotate(${base * index * 60}deg) translateX(${(this.aroundBtnDistance + this.fabBtnInfo.width) * (-(base))}px)`\r\n          return style\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      propsData() {\r\n        // 更新按钮信息\r\n        this.updateProps = true\r\n      }\r\n    },\r\n    mounted() {\r\n      this.$nextTick(() => {\r\n        this.getFabBtnRectInfo()\r\n      })\r\n    },\r\n    beforeDestroy() {\r\n      if (this.timer) {\r\n        clearTimeout(this.timer)\r\n      }\r\n    },\r\n    methods: {\r\n      // 按钮点击事件\r\n      handleClick(index) {\r\n        this.close()\r\n        this.$emit('click', {index: index})\r\n      },\r\n      // 点击悬浮按钮\r\n      fabClick() {\r\n        if (this.showFab) {\r\n          this.close()\r\n        } else {\r\n          // console.log(this.visibleSync);\r\n          if (this.visibleSync) {\r\n            this.visibleSync = false\r\n            return\r\n          }\r\n          this.open()\r\n        }\r\n      },\r\n      // 点击遮罩\r\n      clickMask() {\r\n        if (!this.showMask || !this.maskCloseable) return\r\n        this.close()\r\n      },\r\n      \r\n      open() {\r\n        this.change('visibleSync', 'showFab', true)\r\n        this.translateFabPosition()\r\n      },\r\n      close() {\r\n        this.change('showFab', 'visibleSync', false)\r\n        this.fabLeft = 0\r\n        this.fabRight = 0\r\n        this.fabBottom = 0\r\n      },\r\n      // 关闭时先通过动画隐藏弹窗和遮罩，再移除整个组件\r\n      // 打开时，先渲染组件，延时一定时间再让遮罩和弹窗的动画起作用\r\n      change(param1, param2, status) {\r\n        this[param1] = status\r\n        if (status) {\r\n          // #ifdef H5 || MP\r\n          this.timer = setTimeout(() => {\r\n            this[param2] = status\r\n            this.$emit(status ? 'open' : 'close')\r\n            clearTimeout(this.timer)\r\n          }, 10)\r\n          // #endif\r\n          // #ifndef H5 || MP\r\n          this.$nextTick(() => {\r\n            this[param2] = status\r\n            this.$emit(status ? 'open' : 'close')\r\n          })\r\n          // #endif\r\n        } else {\r\n          this.timer = setTimeout(() => {\r\n            this[param2] = status\r\n            this.$emit(status ? 'open' : 'close')\r\n            clearTimeout(this.timer)\r\n          }, 250)\r\n        }\r\n      },\r\n      \r\n      /******************** 旋转动画相关函数 ********************/\r\n      // 获取按钮的信息\r\n      async getFabBtnRectInfo() {\r\n        const systemInfo = uni.getSystemInfoSync()\r\n        const btnRectInfo = await this._tGetRect('.tn-fab__item__btn--fab')\r\n        if (!btnRectInfo) {\r\n          setTimeout(() => {\r\n            this.getFabBtnRectInfo()\r\n          }, 10)\r\n          return\r\n        }\r\n        console.log(btnRectInfo);\r\n        this.systemInfo = {\r\n          width: systemInfo.windowWidth,\r\n          height: systemInfo.windowHeight\r\n        }\r\n        this.fabBtnInfo.width = btnRectInfo.width\r\n        this.fabBtnInfo.height = btnRectInfo.height\r\n        this.fabBtnInfo.left = btnRectInfo.left\r\n        this.fabBtnInfo.right = btnRectInfo.right\r\n        this.fabBtnInfo.bottom = btnRectInfo.bottom\r\n      },\r\n      // 更新悬浮按钮的位置\r\n      translateFabPosition() {\r\n        if (this.updateProps) {\r\n          this.getFabBtnRectInfo()\r\n          this.updateProps = false\r\n        }\r\n        if (this.animationType === 'up') return \r\n        // 按钮组的宽度\r\n        const btnGroupWidth = this.fabBtnInfo.width + this.aroundBtnDistance + 10\r\n        // 判断当前按钮是在左边还是右边\r\n        if (this.left === 'auto' && btnGroupWidth > this.systemInfo.width - this.fabBtnInfo.right) {\r\n          // 距离不够需要移动\r\n          this.fabRight = btnGroupWidth + 'px'\r\n        } else if (this.right === 'auto' && btnGroupWidth > this.fabBtnInfo.left) {\r\n          this.fabLeft = btnGroupWidth + 'px'\r\n        }\r\n        \r\n        if (btnGroupWidth > this.systemInfo.height - this.fabBtnInfo.bottom) {\r\n          this.fabBottom = btnGroupWidth + 'px'\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    @import '@/tuniao-ui/theme.scss';\r\n  .tn-fab {\r\n    &__box {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: flex-start;\r\n      flex-direction: column;\r\n      position: fixed;\r\n      transition: all 0.25s ease-in-out;\r\n    }\r\n    \r\n    &--right {\r\n      align-items: flex-end;\r\n    }\r\n    \r\n    &__btns {\r\n      transition: all 0.25s cubic-bezier(0,.13,0,1.43);\r\n      transform-origin: 80% bottom;\r\n      \r\n      &__animation--up {\r\n        opacity: 0;\r\n        transform: translateY(100%);\r\n      }\r\n      &__animation--around {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n      }\r\n      \r\n      &--visible--up {\r\n        // visibility: visible;\r\n        opacity: 1;\r\n        transform: translateY(0);\r\n      }\r\n      &--visible--around {\r\n        // visibility: visible;\r\n        // opacity: 1;\r\n      }\r\n    }\r\n    \r\n    &__item {\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      align-items: center;\r\n      padding-bottom: 20rpx;\r\n      \r\n      &__animation--around {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        transition: transform 0.25s ease-in-out;\r\n        transform-origin: 50% 50%;\r\n        padding-bottom: 0 !important;\r\n      }\r\n      \r\n      &--left {\r\n        flex-flow: row-reverse;\r\n      }\r\n      \r\n      &__text {\r\n        &--left {\r\n          padding-left: 14rpx;\r\n        }\r\n        &--right {\r\n          padding-right: 14rpx;\r\n        }\r\n      }\r\n      \r\n      &__btn {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        box-shadow: 0 0 5rpx 2rpx rgba(0, 0, 0, 0.07);\r\n        transition: all 0.2s linear;\r\n        \r\n        &--active {\r\n          animation-name: fab-button-animation;\r\n          animation-duration: 0.2s;\r\n          animation-timing-function: cubic-bezier(0,.13,0,1.43);\r\n        }\r\n        \r\n        &__title {\r\n          width: 90%;\r\n          text-align: center;\r\n          white-space: nowrap;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n        }\r\n        \r\n        &__icon {\r\n          text-align: center;\r\n          font-size: 64rpx;\r\n        }\r\n        \r\n        &__image {\r\n          display: block;\r\n        }\r\n      }\r\n    }\r\n    \r\n    &__mask {\r\n      position: fixed;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      background-color: $tn-mask-bg-color;\r\n      transition: all 0.2s ease-in-out;\r\n      opacity: 0;\r\n      \r\n      &--visible {\r\n        opacity: 1;\r\n      }\r\n    }\r\n  }\r\n  \r\n  @keyframes fab-button-animation {\r\n    0% {\r\n      transform: scale(0.6);\r\n    }\r\n    // 20% {\r\n    //   transform: scale(1.8);\r\n    // }\r\n    // 40% {\r\n    //   transform: scale(0.4);\r\n    // }\r\n    // 50% {\r\n    //   transform: scale(1.4);\r\n    // }\r\n    // 80% {\r\n    //   transform: scale(0.8);\r\n    // }\r\n    100% {\r\n      transform: scale(1);\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tn-fab.vue?vue&type=style&index=0&id=710e8188&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tn-fab.vue?vue&type=style&index=0&id=710e8188&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1694705667123\n      var cssReload = require(\"D:/Chrome/HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}