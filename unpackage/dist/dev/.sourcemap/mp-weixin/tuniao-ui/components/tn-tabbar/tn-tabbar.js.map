{"version":3,"sources":["webpack:///E:/art-code-master/tuniao-ui/components/tn-tabbar/tn-tabbar.vue?0cf7","webpack:///E:/art-code-master/tuniao-ui/components/tn-tabbar/tn-tabbar.vue?da80","webpack:///E:/art-code-master/tuniao-ui/components/tn-tabbar/tn-tabbar.vue?a522","webpack:///E:/art-code-master/tuniao-ui/components/tn-tabbar/tn-tabbar.vue?ae75","uni-app:///tuniao-ui/components/tn-tabbar/tn-tabbar.vue","webpack:///E:/art-code-master/tuniao-ui/components/tn-tabbar/tn-tabbar.vue?52ae"],"names":["renderjs","component","options","__file","components","tnBadge","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","l0","_self","_c","show","__map","list","item","index","$orig","__get_orig","s0","__get_style","itemButtonStyle","m0","itemButtonClass","m1","isImage","m2","elIcon","m3","m4","elIconColor","m5","g0","out","count","dot","$tn","number","formatNumberString","m6","elColor","m7","_isMounted","e0","$event","stopPropagation","preventDefault","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","name","props","value","type","default","height","outHeight","bgColor","iconSize","fontSize","activeColor","inactiveColor","activeIconColor","inactiveIconColor","activeStyle","shadow","animation","animationMode","fixed","safeAreaInsetBottom","beforeSwitch","computed","color","clazz","style","outItemLeft","outItemIndex","tabbatItemInfo","watch","created","mounted","methods","getTabbarItem","query","size","rect","left","width","setTimeout","getOutItemIndex","clickItemHandler","switchTab","updateOutItemLeft"],"mappings":"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","file":"tuniao-ui/components/tn-tabbar/tn-tabbar.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./tn-tabbar.vue?vue&type=template&id=3972e4a0&scoped=true&\"\nvar renderjs\nimport script from \"./tn-tabbar.vue?vue&type=script&lang=js&\"\nexport * from \"./tn-tabbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tn-tabbar.vue?vue&type=style&index=0&id=3972e4a0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3972e4a0\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"tuniao-ui/components/tn-tabbar/tn-tabbar.vue\"\nexport default component.exports","export * from \"-!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tn-tabbar.vue?vue&type=template&id=3972e4a0&scoped=true&\"","var components\ntry {\n  components = {\n    tnBadge: function () {\n      return import(\n        /* webpackChunkName: \"tuniao-ui/components/tn-badge/tn-badge\" */ \"@/tuniao-ui/components/tn-badge/tn-badge.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.show\n    ? _vm.__map(_vm.list, function (item, index) {\n        var $orig = _vm.__get_orig(item)\n        var s0 = _vm.__get_style([_vm.itemButtonStyle(index)])\n        var m0 = _vm.itemButtonClass(index)\n        var m1 = _vm.isImage(index)\n        var m2 = m1 ? _vm.elIcon(index) : null\n        var m3 = !m1 ? _vm.elIcon(index) : null\n        var m4 = !m1 ? _vm.elIconColor(index, false) : null\n        var m5 = !m1 ? _vm.elIconColor(index) : null\n        var g0 =\n          !item.out && (item.count || item.dot)\n            ? _vm.$tn.number.formatNumberString(item.count)\n            : null\n        var m6 = _vm.elColor(index, false)\n        var m7 = _vm.elColor(index)\n        return {\n          $orig: $orig,\n          s0: s0,\n          m0: m0,\n          m1: m1,\n          m2: m2,\n          m3: m3,\n          m4: m4,\n          m5: m5,\n          g0: g0,\n          m6: m6,\n          m7: m7,\n        }\n      })\n    : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      $event.stopPropagation()\n      $event.preventDefault()\n      return (function () {})($event)\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tn-tabbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tn-tabbar.vue?vue&type=script&lang=js&\"","<template>\n  <view v-if=\"show\" class=\"tn-tabbar-class tn-tabbar\" @touchmove.stop.prevent=\"() => {}\">\n    <!-- tabbar 内容-->\n    <view\n      class=\"tn-tabbar__content\"\n      :class=\"{\n        'tn-tabbar--fixed': fixed,\n        'tn-safe-area-inset-bottom': safeAreaInsetBottom,\n        'tn-tabbar--shadow': shadow\n      }\"\n      :style=\"{\n        height: height + 'rpx',\n        backgroundColor: bgColor\n      }\"\n    >\n      <!-- tabbar item -->\n      <view\n        v-for=\"(item, index) in list\"\n        :key=\"index\"\n        class=\"tn-tabbar__content__item\"\n        :id=\"`tabbar_item_${index}`\"\n        :class=\"{'tn-tabbar__content__item--out': item.out}\"\n        :style=\"{\n          backgroundColor: bgColor\n        }\"\n        @tap.stop=\"clickItemHandler(index)\"\n      >\n        <!-- tabbar item的图片或者icon-->\n        <view :class=\"[itemButtonClass(index)]\"\n          :style=\"[itemButtonStyle(index)]\"\n        >\n          <image\n            v-if=\"isImage(index)\"\n            :src=\"elIcon(index)\"\n            mode=\"scaleToFill\"\n            class=\"tn-tabbar__content__item__image\"\n            :style=\"{\n              width: `${item.iconSize || iconSize}rpx`,\n              height: `${item.iconSize || iconSize}rpx`\n            }\"\n          ></image>\n          <view\n            v-else\n            class=\"tn-tabbar__content__item__icon\"\n            :class=\"[`tn-icon-${elIcon(index)}`,elIconColor(index, false)]\"\n            :style=\"{\n              fontSize: `${item.iconSize || iconSize}rpx`,\n              color: elIconColor(index)\n            }\"\n          ></view>\n          \n          <!-- 角标-->\n          <tn-badge\n            v-if=\"!item.out && (item.count || item.dot)\"\n            :dot=\"item.dot || false\"\n            backgroundColor=\"tn-bg-red\"\n            fontColor=\"#FFFFFF\"\n            :radius=\"item.dot ? 14 : 0\"\n            :fontSize=\"14\"\n            padding=\"2rpx 4rpx\"\n            :absolute=\"true\"\n            :top=\"2\"\n          >\n            {{ $tn.number.formatNumberString(item.count) }}\n          </tn-badge>\n        </view>\n        \n        <!-- tabbar item的文字-->\n        <view\n          class=\"tn-tabbar__content__item__text\"\n          :class=\"[elColor(index, false)]\"\n          :style=\"{\n            color: elColor(index),\n            fontSize: `${fontSize}rpx`\n          }\"\n        >\n          <text class=\"tn-text-ellipsis\">{{ item.title }}</text>\n        </view>\n      </view>\n      \n      <!-- item 突起部分 -->\n      <view\n        v-if=\"outItemIndex !== -1\"\n        class=\"tn-tabbar__content__out\"\n        :class=\"[{\n          'tn-tabbar__content__out--shadow': shadow\n        }, animation && value === outItemIndex ? `tn-tabbar__content__out--animation--${animationMode}` : '']\"\n        :style=\"{\n          backgroundColor: bgColor,\n          left: outItemLeft,\n          width: `${outHeight}rpx`,\n          height: `${outHeight}rpx`,\n          top: `-${outHeight * 0.3}rpx`\n        }\"\n        @tap.stop=\"clickItemHandler(outItemIndex)\"\n      ></view>\n    </view>\n    \n    <!-- 防止tabbar塌陷 -->\n    <view class=\"tn-tabbar__placeholder\" :class=\"{'tn-safe-area-inset-bottom': safeAreaInsetBottom}\" :style=\"{\n      height: `calc(${height}rpx)`\n    }\"></view>\n  </view>\n</template>\n\n<script>\n  export default {\n    name: 'tn-tabbar',\n    props: {\n      // 绑定当前被选中的current值\n      value: {\n        type: [String, Number],\n        default: 0\n      },\n      // 是否显示\n      show: {\n        type: Boolean,\n        default: true\n      },\n      // 图标列表\n      list: {\n        type: Array,\n        default() {\n          return []\n        }\n      },\n      // 高度，单位rpx\n      height: {\n        type: Number,\n        default: 100\n      },\n      // 突起的高度\n      outHeight: {\n        type: Number,\n        default: 100\n      },\n      // 背景颜色\n      bgColor: {\n        type: String,\n        default: '#FFFFFF'\n      },\n      // 图标大小\n      iconSize: {\n        type: Number,\n        default: 40\n      },\n      // 字体大小\n      fontSize: {\n        type: Number,\n        default: 24\n      },\n      // 激活时的颜色\n      activeColor: {\n        type: String,\n        default: '#01BEFF'\n      },\n      // 非激活时的颜色\n      inactiveColor: {\n        type: String,\n        default: '#AAAAAA'\n      },\n      // 激活时图标的颜色\n      activeIconColor: {\n        type: String,\n        default: '#01BEFF'\n      },\n      // 非激活时图标的颜色\n      inactiveIconColor: {\n        type: String,\n        default: '#AAAAAA'\n      },\n      // 激活时的自定义样式\n      activeStyle: {\n        type: Object,\n        default() {\n          return {}\n        }\n      },\n      // 是否显示阴影\n      shadow: {\n        type: Boolean,\n        default: true\n      },\n      // 点击时是否有动画\n      animation: {\n        type: Boolean,\n        default: false\n      },\n      // 点击时的动画模式\n      animationMode: {\n        type: String,\n        default: 'scale'\n      },\n      // 是否固定在底部\n      fixed: {\n        type: Boolean,\n        default: true\n      },\n      // 是否开启底部安全区适配，开启的话，会在iPhoneX机型底部添加一定的内边距\n      safeAreaInsetBottom: {\n      \ttype: Boolean,\n      \tdefault: false\n      },\n      // 切换前回调\n      beforeSwitch: {\n        type: Function,\n        default: null\n      }\n    },\n    computed: {\n      // 当前字体的颜色\n      elColor() {\n        return (index, style = true) => {\n          let currentItem = this.list[index]\n          let color = ''\n          if (index === this.value) {\n            color = currentItem['activeColor'] || this.activeColor\n          } else {\n            color = currentItem['inactiveColor'] || this.inactiveColor\n          }\n          // 判断是否获取内部样式\n          if (style) {\n            if (this.$tn.color.getFontColorStyle(color) !== '') {\n              return color\n            } else {\n              return ''\n            }\n          } else {\n            if (this.$tn.color.getFontColorStyle(color) === '') {\n              return color\n            } else {\n              return ''\n            }\n          }\n        }\n      },\n      // 当前图标的颜色\n      elIconColor() {\n        return (index, style = true) => {\n          let currentItem = this.list[index]\n          let color = ''\n          if (index === this.value) {\n            color = currentItem['activeIconColor'] || this.activeIconColor\n          } else {\n            color = currentItem['inactiveIconColor'] || this.inactiveIconColor\n          }\n          // 判断是否获取内部样式\n          if (style) {\n            if (this.$tn.color.getFontColorStyle(color) !== '') {\n              return color\n            } else {\n              return ''\n            }\n          } else {\n            if (this.$tn.color.getFontColorStyle(color) === '') {\n              return color + ' tn-tabbar__content__item__icon--clip'\n            } else {\n              return ''\n            }\n          }\n        }\n      },\n      // 当前的图标\n      elIcon() {\n        return (index) => {\n          let currentItem = this.list[index]\n          if (index === this.value) {\n            return currentItem['activeIcon']\n          } else {\n            return currentItem['inactiveIcon']\n          }\n        }\n      },\n      // 突起部分item button对应的类\n      itemButtonClass() {\n        return (index) => {\n          let clazz = ''\n          if (this.list[index]['out']) {\n            clazz += 'tn-tabbar__content__item__button--out'\n            if (this.$tn.color.getFontColorStyle(this.activeIconColor) === '') {\n              clazz += ` ${this.activeIconColor}`\n            }\n            if (this.value === index) {\n              clazz += ` tn-tabbar__content__item__button--out--animation--${this.animationMode}`\n            }\n          } else {\n            clazz += 'tn-tabbar__content__item__button'\n            if (this.value === index) {\n              clazz += ` tn-tabbar__content__item__button--animation--${this.animationMode}`\n            }\n          }\n          return clazz\n        }\n      },\n      // 突起部分item button样式\n      itemButtonStyle() {\n        return (index) => {\n          let style = {}\n          if (this.list[index]['out']) {\n            if (this.$tn.color.getFontColorStyle(this.activeIconColor) !== '') {\n              style.backgroundColor = this.activeIconColor\n            }\n            style.width = `${this.outHeight - 35}rpx`\n            style.height = `${this.outHeight - 35}rpx`\n            style.top = `-${this.outHeight * 0.15}rpx`\n            \n            return style\n          }\n          return style\n        }\n      },\n      // 判断图标是否为图片\n      isImage() {\n        return (index) => {\n          const icon = this.list[index]['activeIcon']\n          // 只有包含了'/'就认为是图片\n          return icon.indexOf('/') !== -1\n        }\n      }\n    },\n    data() {\n      return {\n        // 当前突起的位置\n        outItemLeft: '50%',\n        // 当前设置了突起按钮的index\n        outItemIndex: -1,\n        // 每一个item的信息\n        tabbatItemInfo: []\n      }\n    },\n    watch: {\n      \n    },\n    created() {\n      this.getOutItemIndex()\n    },\n    mounted() {\n      this.$nextTick(() => {\n        this.getTabbarItem()\n      })\n    },\n    methods: {\n      // 获取每一个item的信息\n      getTabbarItem() {\n        let query = uni.createSelectorQuery().in(this)\n        // 遍历获取信息\n        for (let i = 0; i < this.list.length; i++) {\n          query.select(`#tabbar_item_${i}`).fields({\n            size: true,\n            rect: true\n          })\n        }\n        query.exec(res => {\n          if (!res) {\n            setTimeout(() => {\n              this.getTabbarItem()\n            }, 10)\n            return\n          }\n          this.tabbatItemInfo = res.map((item) => {\n            return {\n              left: item.left,\n              width: item.width\n            }\n          })\n          this.updateOutItemLeft()\n        })\n      },\n      // 获取突起Item所在的index(如果存在)\n      getOutItemIndex() {\n        this.outItemIndex = this.list.findIndex((item) => {\n          return item.hasOwnProperty('out') && item.out\n        })\n      },\n      // 点击底部菜单时触发\n      async clickItemHandler(index) {\n        if (this.beforeSwitch && typeof(this.beforeSwitch) === 'function') {\n          // 执行回调，同时传入索引当作参数\n          // 在微信，支付宝等环境(H5正常)，会导致父组件定义的函数体中的this变成子组件的this\n          // 通过bind()方法，绑定父组件的this，让this的this为父组件的上下文\n          let beforeSwitch = this.beforeSwitch.bind(this.$tn.$parent.call(this))(index)\n          // 判断是否返回了Promise\n          if (!!beforeSwitch && typeof beforeSwitch.then === 'function') {\n            await beforeSwitch.then(res => {\n              // Promise返回成功\n              this.switchTab(index)\n            }).catch(err => {\n              \n            })\n          } else if (beforeSwitch === true) {\n            this.switchTab(index)\n          }\n        } else {\n          this.switchTab(index)\n        }\n      },\n      // 切换tab\n      switchTab(index) {\n        // 发出事件和修改v-model绑定的值\n        this.$emit('change', index)\n        this.$emit('input', index)\n      },\n      // 设置突起的位置\n      updateOutItemLeft() {\n        // 查找出需要突起的元素\n        const index = this.list.findIndex((item) => {\n          return item.out\n        })\n        if (index !== -1) {\n          this.outItemLeft = this.tabbatItemInfo[index].left + (this.tabbatItemInfo[index].width / 2) + 'px'\n        }\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  \n  .tn-tabbar {\n    \n    &__content {\n      box-sizing: content-box;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      position: relative;\n      width: 100%;\n      z-index: 1024;\n      \n      &__out {\n        position: absolute;\n        z-index: 4;\n        border-radius: 100%;\n        left: 50%;\n        transform: translateX(-50%);\n        \n        &--shadow {\n          box-shadow: 0rpx -10rpx 30rpx 0rpx rgba(0, 0, 0, 0.05);\n          \n          &::before {\n            content: \" \";\n            position: absolute;\n            width: 100%;\n            height: 50rpx;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            margin: auto;\n            background-color: inherit;\n          }\n        }\n        \n        &--animation {\n          &--scale {\n            transform-origin: 50% 100%;\n            animation:tabbar-content-out-click 0.2s forwards 1 ease-in-out;\n          }\n        }\n      }\n      \n      &__item {\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        justify-content: flex-end;\n        align-items: center;\n        height: 100%;\n        position: relative;\n        \n        &__button {\n          margin-bottom: 10rpx;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          position: relative;\n          \n          &--out {\n            margin-bottom: 10rpx;\n            border-radius: 50%;\n            position: absolute;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            z-index: 6;\n            \n            &--animation {\n              &--scale {\n                transform-origin: 50% 100%;\n                animation:tabbar-item-button-out-click 0.2s forwards 1;\n              }\n            }\n          }\n          \n          &--animation {\n            &--scale {\n              .tn-tabbar__content__item__icon, .tn-tabbar__content__item__image {\n                transform-origin: 50% 100%;\n                animation:tabbar-item-button-click 0.2s forwards 1;\n              }\n            }\n          }\n        }\n        \n        &__icon {\n          \n          &--clip {\n            -webkit-background-clip: text;\n            color: transparent !important;\n          }\n        }\n        \n        &__text {\n          width: 100%;\n          font-size: 26rpx;\n          line-height: 28rpx;\n          text-align: center;\n          margin-bottom: 10rpx;\n          z-index: 10;\n          transition: all 0.2s ease-in-out;\n        }\n        \n        &--out {\n          height: calc(100% - 1px);\n        }\n      }\n    }\n    \n    &--fixed {\n      position: fixed;\n      bottom: 0;\n      left: 0;\n      right: 0;\n    }\n    \n    &--shadow {\n      box-shadow: 0rpx 0rpx 30rpx 0rpx rgba(0, 0, 0, 0.07);\n    }\n  }\n  \n  /* 点击动画 start */\n  \n  @keyframes tabbar-item-button-click{\n    from{\n      transform: scale(0.8);\n    }\n    to{\n      transform: scale(1);\n    }\n  }\n  \n  @keyframes tabbar-item-button-out-click {\n    0%{\n      transform: translateY(0) scale(1);\n    }\n    50%{\n      transform: translateY(-10rpx) scale(1.2);\n    }\n    100%{\n      transform: translateY(0) scale(1);\n    }\n  }\n  \n  @keyframes tabbar-content-out-click {\n    0%{\n      transform: translateX(-50%) translateY(0) scale(1);\n    }\n    50% {\n      transform: translateX(-50%) translateY(-10rpx) scale(1.1);\n    }\n    100% {\n      transform: translateX(-50%) translateY(0) scale(1);\n    }\n  }\n  \n  /* 点击动画 end */\n</style>\n","import mod from \"-!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tn-tabbar.vue?vue&type=style&index=0&id=3972e4a0&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Chrome\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tn-tabbar.vue?vue&type=style&index=0&id=3972e4a0&lang=scss&scoped=true&\""],"sourceRoot":""}